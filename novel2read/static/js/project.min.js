!function(){let t=$("[name=csrfmiddlewaretoken]").val(),e=t||function(t){var e=null;if(document.cookie&&""!==document.cookie)for(var o=document.cookie.split(";"),n=0;n<o.length;n++){var i=jQuery.trim(o[n]);if(i.substring(0,t.length+1)===t+"="){e=decodeURIComponent(i.substring(t.length+1));break}}return e}("csrftoken");$.ajaxSetup({beforeSend:function(t,o){var n;n=o.type,/^(GET|HEAD|OPTIONS|TRACE)$/.test(n)||this.crossDomain||(t.setRequestHeader("X-CSRFToken",e),console.log(e))}}),$(".js-vote-btn").click(function(){let t=$(this);$.ajax({url:t.attr("data-vote-url"),type:"post",dataType:"json",success:function(t){t.is_valid?($(".js-bvotes").html(t.book_votes),$(".js-uvotes").html(t.user_votes)):alert(t.info_msg)},error:function(t){console.log(`${t.status} ${t.statusText}`)}})}),$(".js-lib-btn").click(function(){let t=$(this);$.ajax({url:t.attr("data-lib-url"),type:"post",dataType:"json",success:function(e){e.is_valid?(console.log(t),e.in_lib?t.html('<i class="fas fa-check"></i> In Library'):t.html("Add to Library")):alert(e.info_msg)},error:function(t,e,o){console.log(`${t.status} ${t.statusText}`)}})});let o=(window.innerWidth,"auto"),n=window.innerWidth>2e3?280:550;new Swiper(".swiper-container",{pagination:".swiper-pagination",effect:"coverflow",centeredSlides:!0,loop:!0,slidesPerView:o,nextButton:".swiper-button-next",prevButton:".swiper-button-prev",coverflow:{rotate:0,stretch:0,depth:n,modifier:1,slideShadows:!1},slideToClickedSlide:!0})}();