{% extends "base.html" %}
{% block title %}Home - {{block.super}}{% endblock %}
{% block content %}
  <div class="container-fluid">
    <div class="row">

      <div class="swiper-container">
        <div class="swiper-wrapper">

        {% for book in books %}
          <div class="swiper-slide bookslide">
            <div class="bookslide__hf">
              <div class="bookslide__poster"><img class="swiper-lazy" src="{{book.poster_url}}" alt="{{book.title}}"></div>
            </div>
            <div class="bookslide__hf">
              <div class="bookslide__title"><h2 class="h2-title-sm">{{book.title}}</h2></div>
              <div class="bookslide__info d-lg">
                <div class="bookslide__info--desc">
                  {{book.description|safe}}
                </div>
                <!--
                  <div class="bookslide__info--rate">
                    <span>{{book.rating}} votes {{book.votes}}</span>
                  </div>
                -->
              </div>
              <div class="bookslide__nav">
                {% with f_bc=book.bookchapters.first.c_id %}
                  <a href="{{book.get_absolute_url}}">
                    <button type="button" class="btn btn-light">Book</button>
                  </a>
                  {% if f_bc %}
                    <a href="{% url 'books:bookchapter' book_slug=book.slug c_id=f_bc %}">
                      <button type="button" class="btn btn-light">Read</button>
                    </a>
                  {% endif %}
                {% endwith %}
              </div>
            </div>
            <div class="bookslide__info d-sm">
              <div class="bookslide__info--desc">
                {{book.description|safe}}
              </div>
            </div>
          </div>
        {% endfor %}

        </div> <!-- Slide wrapper -->

        <!-- Add Pagination -->
        <div class="swiper-pagination"></div>

        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>

      </div> <!-- Slider container -->

    </div>
  </div>

  <div class="container">
  </div>

{% endblock content %}

{% block javascript %}
  {{ block.super }}
{% endblock %}
