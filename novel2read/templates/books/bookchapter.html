{% extends "base.html" %}

{% load static %}

{% block content %}
  <div class="bookchapter">


    <div class="bookchapter__nav">
      <div class="bookchapter__nav--link">
        <a href=""><button type="button" class="btn btn-dark">Prev</button></a>
      </div>
      <div class="bookchapter__nav--link">
        <a href=""><button type="button" class="btn btn-dark">Next</button></a>
      </div>

      <div class="bookchapter__nav--select">
        <div class="chaps">
          <button class="chaps--toggle btn btn-light" id="chaps-toggle">Table of Contents</button>
          <ul class="chaps--nav scrollbar" id="chaps-nav">
            {% for chapter in bookchapters %}
              <li class="{% if request.path == chapter.get_absolute_url %}active{% endif %}">
                <a href="{{chapter.get_absolute_url}}">
                  <span>{{forloop.counter}}: {{chapter.title}}</span>
                </a>
              </li>
            {% endfor %}
          </ul>
        </div>
        <div class="bookchapter__styles">
          <div class="btn btn-light"  data-toggle="collapse" data-target="#collapseChapterStyles" aria-expanded="false" aria-controls="collapseChapterStyles">
            Styles
            <img class="bookchapter__styles--toggle" src="{% static 'images/cog.svg' %}" alt="styles">
          </div>
        </div>
      </div>

    </div>

    <div class="bookchapter__styles">
      <div class="collapse" id="collapseChapterStyles">
        <div class="card card-body">
          Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident.
        </div>
      </div>
    </div>

    <div class="bookchapter__title">
      <h1 class="h1-title-sm">{{bookchapter.title}}</h1>
    </div>

    <div class="bookchapter__body">
      {{bookchapter.text}}
    </div>

  </div>
{% endblock content %}

{% block javascript %}
  {{ block.super }}
  <script>
    let chapToggle = document.getElementById('chaps-toggle');
    let chapNav = document.getElementById('chaps-nav');

    function toggleElem(e) {
      let className = 'active'
      chapNav.classList.toggle(className);
    }

    chapToggle.addEventListener('click', toggleElem);

  </script>
{% endblock javascript %}
