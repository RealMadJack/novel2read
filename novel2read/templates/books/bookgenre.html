{% extends "base.html" %}

{% load static %}
{% load crispy_forms_tags %}

{% block title %}
  {% if request.resolver_match.url_name == 'genre-list' %}
    Genres
  {% else %}
    {% for bookgenre in bookgenres %}
      {% if request.path == bookgenre.get_absolute_url %}
        {{bookgenre.name}}
      {% endif %}
    {% endfor %}
  {% endif %}
   - {{block.super}}
{% endblock %}

{% block content %}
<div class="container">


  <div class="browsebooks">
    <div class="browsebooks__title">
      <h1 class="h1-title">
        {% if request.resolver_match.url_name == 'genre-list' %}
          All Genres
        {% else %}
          {% for bookgenre in bookgenres %}
            {% if request.path == bookgenre.get_absolute_url %}
              {{bookgenre.name}}
            {% endif %}
          {% endfor %}
        {% endif %}
      </h1>
    </div>
    <div class="browsebooks__filters mb-30">
      <form action="" method="get" class="browsebooks__filters--form">
          {{ filter.form|crispy }}
          <button type="submit" class="btn btn-dark">Filter</button>
      </form>
    </div>
    <div class="browsebooks__books">
      {% include 'books/book_lg_wide_list.html' %}
    </div>
  </div>

</div> <!-- Container -->
{% endblock content %}
